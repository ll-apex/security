# データベース構成の評価

## 概要

セキュリティ評価は、データベース構成のセキュリティの評価に役立ちます。データベース構成、ユーザー・アカウントおよびセキュリティ制御を分析し、リスクを軽減または軽減するためのベスト・プラクティスに従った改善アクティビティの推奨事項とともに結果をレポートします。デフォルトでは、Oracle Data Safeによってターゲット・データベースのセキュリティ評価が自動的に生成され、評価履歴に格納されます。すべてのターゲット・データベースおよび各ターゲット・データベースの評価データを分析できます。最新の評価をベースラインまたは別の評価と比較することで、ターゲット・データベースのセキュリティ・ドリフトを監視できます。

この演習では、セキュリティ評価を確認します。

見積時間: 20分

### 目標

この演習では、次のことを行います。

*   セキュリティ評価の概要ページの表示
*   ターゲット・データベースの最新のセキュリティ評価の表示
*   最新の評価をベースライン評価として設定
*   ターゲット・データベースでのアクティビティの生成
*   最新のセキュリティ評価を更新し、結果を分析します
*   評価とベースラインとの比較

### 前提条件

この演習では、次を想定しています。

*   Oracle Cloudアカウントを取得し、Oracle Cloud Infrastructure Consoleにサインインします。
*   このワークショップのための環境の準備
*   Oracle Data Safeへのターゲット・データベースの登録

### 前提条件

*   実際のデータ値は、多くの場合、スクリーンショットに表示されている値とは異なります。

ラボのクイック・ウォークスルーについては、次のビデオをご覧ください。[データベース構成の評価](videohub:1_f7ijv58k)

## タスク1: セキュリティ評価の概要ページの表示

1.  セキュリティ・センターで、**「セキュリティ評価」**をクリックします。
    
2.  **「リスト範囲」**で、コンパートメントを選択します。**「子コンパートメントを含める」**の選択を解除します。
    
    概要ページには、ターゲット・データベースの統計が表示されます。
    
3.  ページ上部で、**「リスク・レベル」**および**「カテゴリ別リスク」**チャートを確認します。
    
    *   **「リスク・レベル」**チャートには、選択したコンパートメント内のすべてのターゲット・データベースにおける様々なリスク・レベル(高、中、低、アドバイザリおよび評価)の割合の内訳が表示されます。
    *   **「カテゴリ別のリスク」**チャートには、選択したコンパートメント内のターゲット・データベースにおける様々なリスク・カテゴリ(ユーザー・アカウント、権限とロール、認可制御、データ暗号化、ファイングレイン・アクセス、監査およびデータベース構成)の割合の内訳が表示されます。
    
    ![すべてのターゲットのカテゴリ別セキュリティ・アセスメント・リスク・レベルおよびリスク・チャート](images/ocw/sa_risklevel_risksbycategory.png "すべてのターゲットのカテゴリ別セキュリティ・アセスメント・リスク・レベルおよびリスク・チャート")
    
4.  **「リスクのサマリー」**タブで情報を確認します。
    
    *   **「リスクのサマリー」**タブには、指定したコンパートメント内のすべてのターゲット・データベース全体でどのくらいのリスクがあるかが表示されます。
    *   すべてのターゲット・データベース全体で高、中、低、アドバイザリおよび評価のリスク結果の数を比較し、最大数のリスク・カテゴリを表示できます。
    *   リスク・カテゴリには、ターゲット・データベース、ユーザー・アカウント、権限とロール、認可制御、ファイングレイン・アクセス制御、データ暗号化、監査およびデータベース構成が含まれます。
    
    ![「セキュリティ・アセスメント・リスクのサマリー」タブ](images/ocw/sa-risk-summary-tab.png "「セキュリティ・アセスメント・リスクのサマリー」タブ")
    
5.  **「ターゲットのサマリー」**タブをクリックし、情報を確認します。
    
    *   **「ターゲットのサマリー」**タブには、各ターゲット・データベースのセキュリティ状態が表示されます。
    *   各ターゲット・データベースの高、中、低、アドバイザリおよび評価のリスク結果の数を表示できます。
    *   査定日を表示して、最新の査定がベースラインから逸脱しているかどうかを確認できます(設定されている場合)。
    *   各ターゲット・データベースの最新の評価レポートにアクセスできます。
    
    ![セキュリティ評価ターゲットの「サマリー」タブ](images/ocw/sa-target-summary-tab.png "セキュリティ評価ターゲットの「サマリー」タブ")
    

## タスク2: ターゲット・データベースの最新のセキュリティ評価の表示

Oracle Data Safeでは、登録時にターゲット・データベースのセキュリティ評価が自動的に作成されます。この評価は_最新評価_と呼ばれます。

1.  **「ターゲットのサマリー」**タブで、ターゲット・データベースを含む行を見つけ、**「レポートの表示」**をクリックします。
    
    ターゲット・データベースの最新のセキュリティ評価が表示されます。ページの上部に**「ターゲット・データベースの最新の評価」**が表示されます。
    
2.  **「アセスメント・サマリー」**タブで表を確認します。
    
    *   この表は、レポート内の各カテゴリの結果数を比較し、リスク・レベル当たりの結果数(**「高リスク」**、**「中リスク」**、**「低リスク」**、**「アドバイザ」**、**「評価」**および**「合格」**)をカウントします。
    *   これらの値は、注意が必要な領域を識別するのに役立ちます。
    
    ![最新セキュリティ・アセスメント・サマリー・タブ](images/ocw/latest-sa-assessment-summary-tab.png "最新セキュリティ・アセスメント・サマリー・タブ")
    
3.  セキュリティ評価自体の詳細を表示するには、**「アセスメント情報」**タブをクリックします。
    
    *   詳細には、アセスメント名、OCID、アセスメントが保存されたコンパートメント、ターゲット・データベース名、ターゲット・データベース・バージョン、アセスメント日、スケジュール、ベースライン・アセスメントの名前(設定されている場合)、ベースライン・フラグ(はい、いいえまたはベースライン・セットなし)に準拠します。
    
    ![「最新のセキュリティ評価情報」タブ](images/ocw/latest-sa-assessment-information-tab.png "「最新のセキュリティ評価情報」タブ")
    
4.  最新のセキュリティ評価の名前変更: **「名前」**の右側にある鉛筆アイコンをクリックし、**SA\_target-database**と入力して(**target-database**をターゲット・データベースの名前に置き換えて)、**「保存」**アイコンをクリックします。
    
    ![最新のセキュリティ評価の名前変更](images/ocw/rename-latest-sa-assessment.png "最新のセキュリティ評価の名前変更")
    
5.  スクロール・ダウンして、**「アセスメント詳細」**セクションを表示します。
    
    *   このセクションには、各リスク・カテゴリのすべての結果が表示されます。
    *   リスクは色分けされているため、高いリスク結果(赤)を持つカテゴリを簡単に識別できます。
    *   **「権限およびロール」**にリストされている高リスクの結果は、SQLスクリプトを実行してターゲット・データベースにサンプル・データを移入したときに導入されました。
    
    ![「Latest Security Assessment Details」セクション](images/ocw/latest-sa-assessment-details-section.png "「Latest Security Assessment Details」セクション")
    
6.  左側の**「リスク別フィルタ」**で、表示するリスク・レベルを選択できることを確認します。**「パス」**を選択し、**「適用」**をクリックします。
    
    ![リスク・レベルのセキュリティ評価フィルタ](images/sa-filters-risk-levels.png "リスク・レベルのセキュリティ評価フィルタ")
    
7.  カテゴリを展開し、結果を確認します。
    
    *   各結果には、ステータス(リスク・レベル)、結果のサマリー、結果の詳細、リスクの軽減に役立つ備考、および参照(結果がCenter for Internet Security (**CIS**)、欧州連合の一般データ保護規則(**GDPR**)、および/またはセキュリティ技術実装ガイド(**STIG**)によって推奨されているかどうか)が表示されます。これらの参照により、推奨されるセキュリティ制御を簡単に識別できます。
    *   次の例では、**Transparent Data Encryption**の結果に **STIG**と **GDPR**の2つの参照があります。
    
    ![Transparent Data Encryptionの検索](images/ocw/transparent-data-encryption-finding.png "Transparent Data Encryptionの検索")
    

## タスク3: 最新のアセスメントをベースライン・アセスメントとして設定

ベースライン評価では、特定の時点における選択したコンパートメント内のすべてのターゲット・データベースのデータが表示されます。ただし、コンパートメント内の1つのターゲット・データベースのみを処理しているため、ベースライン評価では1つのターゲット・データベースのデータのみが表示されます。

1.  ページ上部の**「ベースラインとして設定」**をクリックします。
    
    **「ベースラインとして設定しますか?」**ダイアログ・ボックスが表示されます。
    
    ![「ベースラインとして設定」ダイアログ・ボックス](images/set-as-baseline-dialog-box.png "「ベースラインとして設定」ダイアログ・ボックス")
    
2.  **「はい」**をクリックして、これらの結果をベースラインとして設定することを確認します。
    
3.  _重要!**「ベースラインが設定されました」**というメッセージが表示されるまで、ページに留まります。_
    
    ![セキュリティ・アセスメント・ベースラインが設定されたメッセージ](images/sa-baseline-has-been-set-message.png "セキュリティ・アセスメント・ベースラインが設定されたメッセージ")
    

## タスク4: ターゲット・データベースでのアクティビティの生成

このタスクでは、ターゲット・データベースで`GRANT`コマンドを発行して、後で最新のセキュリティ評価をリフレッシュするときに評価を比較できるようにします。

1.  データベース・アクションのSQLワークシートにアクセスします。セッションが期限切れになった場合は、`ADMIN`ユーザーとして再度サインインします。
    
2.  必要に応じて、ワークシートおよび**「スクリプト出力」**タブをクリアします。
    
3.  ワークシートで次のコマンドを入力します。
    
        <copy>grant ALTER ANY ROLE to PUBLIC;</copy>
        
4.  ツールバーで、**「文の実行」**ボタン(緑色の円で白い矢印)をクリックします。
    
    ![「文の実行」ボタン](images/run-statement-button.png "「文の実行」ボタン")
    

## タスク5: 最新のセキュリティ評価のリフレッシュと結果の分析

1.  Oracle Data Safeのブラウザ・タブに戻ります。
    
2.  最新のセキュリティ評価の最上部で、**「今すぐリフレッシュ」**をクリックして最新データを取得します。
    
    **「今すぐリフレッシュ」**パネルが表示されます。
    
3.  **「最新の評価の保存」**ボックスに**My Security Assessment**と入力し、**「今すぐリフレッシュ」**をクリックします。ステータスが**SUCCEEDED**と表示されるのを待ちます。
    
    *   このアクションにより、ターゲット・データベースの最新のセキュリティ評価のデータが更新され、評価のコピー(My Security Assessmentという名前)が評価履歴に保存されます。
    *   リフレッシュ操作には約1分かかります。
    
    ![セキュリティ評価の「今すぐリフレッシュ」パネル](images/sa-refresh-now-panel.png "セキュリティ評価の「今すぐリフレッシュ」パネル")
    
4.  **「アセスメント情報」**タブをクリックします。アセスメント日時が現在で、**「ベースラインに準拠」**が**「いいえ」**であることを確認します。
    
    ![現在評価されているセキュリティ評価](images/ocw/sa-assessed-on-right-now.png "現在評価されているセキュリティ評価")
    
5.  下にスクロールし、**「System Privileges Granted to Public」**を展開します。
    
    *   これはリスクの高い発見です。
    *   **「詳細」**セクションで、前のタスクで行った権限が識別されていることを確認できます。
    
    ![PUBLIC検索に付与されたシステム権限](images/system-privileges-granted-to-public.png "PUBLIC検索に付与されたシステム権限")
    

## タスク6: 評価とベースラインの比較

1.  最新のセキュリティ評価が表示された状態で、左側の**「リソース」**で、**「ベースラインとの比較」**をクリックします。Oracle Data Safeでは、比較の処理が自動的に開始されます。
    
    最新のセキュリティ評価から移動した場合は、ブレッドクラムで**「セキュリティ評価」**をクリックして戻ることができます。**「ターゲットのサマリー」**タブをクリックします。ターゲット・データベースの**「レポートの表示」**をクリックします。
    
    ![「リソース」の「ベースラインと比較」オプション](images/sa-resources-compare-with-baseline-option.png "「リソース」の「ベースラインと比較」オプション")
    
2.  比較操作が完了したら、**「ベースラインとの比較」**セクションまでページをスクロール・ダウンし、情報を確認します。
    
    *   各リスク・レベルのリスク・カテゴリ当たりの結果数を確認します。カテゴリには、**「ユーザー・アカウント」**、**「権限およびロール」**、**「認可制御」**、**「データ暗号化」**、**「ファイングレイン・アクセス制御」**、**「監査」**および**「データベース構成」**があります。
    *   **「変更済」**という語を含むセルを表示することで、ターゲット・データベースで変更が発生した場所を識別できます。この数は、ターゲット・データベースの新規、是正済および修正済リスクの合計数を表します。
    *   詳細表では、各結果のリスク・レベル、結果が属するカテゴリ、結果名、およびターゲット・データベースで変更された内容の説明を表示できます。「比較レポート」列は、ベースライン・レポートの生成後にターゲット・データベースに対して変更、追加または削除された内容を説明するため、重要です。
    *   加えた変更が**「比較レポート」**列に表示されます。
    
    ![セキュリティ評価比較レポート・トップ](images/ocw/sa-comparison-report-top2.png "セキュリティ評価比較レポート・トップ") ![セキュリティ評価比較レポート下部](images/ocw/sa-comparison-report-bottom2.png "セキュリティ評価比較レポート下部")
    

## さらに学ぶ

*   [セキュリティ評価の概要](https://www.oracle.com/pls/topic/lookup?ctx=en/cloud/paas/data-safe&id=UDSCS-GUID-030B2A14-272F-49CF-80D2-5559C722E0FF)

## 謝辞

*   **著者** - データベース開発、コンサルティング・ユーザー・アシスタンス開発者、Jody Glover
*   **最終更新者/日付** - Jody Glover、2023年8月17日