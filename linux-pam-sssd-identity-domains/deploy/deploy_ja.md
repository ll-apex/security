# ORMスタックのデプロイによるLinuxサーバーおよびアイデンティティ・ドメインの作成

## 概要

このスタックを使用すると、Terraformを使用して**Linuxサーバーおよびアイデンティティ・ドメイン**をデプロイできます。作成されたアイデンティティ・ドメインのタイプは**Oracle Apps Premium**です。Linuxサーバーでは、次の演習で別のスタックを使用して**Linux Pluggable Authentication Module (PAM)モジュール**を構成します。

_予想時間:_ 15分

### 目標

*   **Linuxサーバー**のデプロイ
*   タイプが**Oracle Apps Premium**の**アイデンティティ・ドメイン**をデプロイします
*   作成したリソースをWebブラウザおよびSSHアクセスで検証します。

### 前提条件

*   **Stack1- Deploy.zip**をダウンロードしたら、zipファイルを解凍し、**SSH.key**および **SSH.key.pub**ファイルの内容を、秘密鍵と公開鍵のそれぞれの内容に置き換えます。

**ノート**ファイルの名前は変更しないでください。

## タスク1: リソース・マネージャを使用したスタックのデプロイ

1.  OCIコンソールにログインしたら、**「開発者サービス」**に移動し、**「リソース・マネージャ」**の下の**「スタック」**を選択します。**「スタックの作成」**をクリックします
    
    ![スタック](./images/stack.png "スタック")
    
    ![作成- スタック](./images/create-stack.png "作成- スタック")
    
2.  スタックの作成ウィザードで、**.zip**オプションを選択し、前の演習でダウンロードした**デプロイ**・スタックを参照してアップロードします。**「次へ」**をクリックします。
    
    ![アップロード-zip](./images/upload-zip.png "アップロード-zip")
    
    ![stack-details](./images/stack-details.png "stack-details")
    

**ノート**スタック名およびコンパートメントは、必要に応じて変更できます。

3.  ここで、**「変数の構成」**セクションで、VCNが**「Linuxインスタンス・コンパートメント」**セクションにある関連するコンパートメントを選択し、**「SSH公開キー」**をアップロードします。インスタンスをデプロイする必要がある**可用性ドメイン**、**VCN**および**サブネット**をそれぞれ選択します。
    
    ![linux-instance-details](./images/linux-instance-details.png "linux-instance-details")
    

**ノート** SSH公開キーは、前提条件として生成する必要があります。

4.  **「OCIアイデンティティ・ドメイン」**セクションで、ドメインを作成する必要がある**アイデンティティ・ドメイン・コンパートメント**を選択します。次に、アイデンティティ・ドメインの名前を入力し、**「管理電子メール・アドレス」**、**「名」**、**「姓」**などの管理者の詳細を指定します。
    
    ![アイデンティティ- ドメイン- 詳細](./images/identity-domain-details.png "アイデンティティ- ドメイン- 詳細")
    
5.  **「詳細の確認」**で、構成を確認し、**「作成」**をクリックします。**「適用の実行」**が選択されていることを確認します。
    
    ![レビュー](./images/review.png "レビュー")
    

**ノート**スタックの実行には約1分から2分かかる場合があります。正常に完了するまでお待ちください。完了すると、前述の_「管理電子メール・アドレス」_に通知が送信されます。

## タスク2: 作成されたリソースの検証

**スタック**が正常にデプロイされると、デプロイされたリソースが検証されます。

    1. Linux Server Instance
    2. Identity Domain 
    

1.  任意のSSHクライアントを使用して、LinuxサーバーへのSSHアクセスを確認します。

_インスタンスに使用される秘密キーを使用すると、システムにSSH接続できるようになります。_

2.  **「アイデンティティとセキュリティ」**の下の**「ドメイン」**に移動し、OCIコンソール上の各コンパートメントに移動して、**Oracle Apps Premium**タイプのドメインが作成されたことを確認します。

## まとめ

このラボでは、Linuxサーバーとアイデンティティ・ドメインを正常にデプロイおよび検証できました。

**次の演習に進みます。**

## 確認

*   **著者** - Gautam Mishra、Aqib Bhat
*   **貢献者** - Deepthi Shetty
*   **最終更新者/日付** - Gautam Mishra 2023年7月